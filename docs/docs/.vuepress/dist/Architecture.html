<!DOCTYPE html>
<html lang="en-US">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<title>How it works | ProximaDB</title>
		<meta name="description" content="An authenticated database" />

		<link rel="preload" href="/assets/css/0.styles.63dd5439.css" as="style" />
		<link rel="preload" href="/assets/js/app.e72122a9.js" as="script" />
		<link rel="preload" href="/assets/js/2.ca605dc8.js" as="script" />
		<link rel="preload" href="/assets/js/6.07728154.js" as="script" />
		<link rel="prefetch" href="/assets/js/10.e5dfd44c.js" />
		<link rel="prefetch" href="/assets/js/11.58fa5a60.js" />
		<link rel="prefetch" href="/assets/js/12.e33a1b6c.js" />
		<link rel="prefetch" href="/assets/js/3.7f833c13.js" />
		<link rel="prefetch" href="/assets/js/4.c8693186.js" />
		<link rel="prefetch" href="/assets/js/5.74568b92.js" />
		<link rel="prefetch" href="/assets/js/7.2bc2d634.js" />
		<link rel="prefetch" href="/assets/js/8.9d27b7d6.js" />
		<link rel="prefetch" href="/assets/js/9.c399e2b0.js" />
		<link rel="stylesheet" href="/assets/css/0.styles.63dd5439.css" />
	</head>
	<body>
		<div id="app" data-server-rendered="true">
			<div class="theme-container">
				<header class="navbar">
					<div class="sidebar-button">
						<svg
							xmlns="http://www.w3.org/2000/svg"
							aria-hidden="true"
							role="img"
							viewBox="0 0 448 512"
							class="icon"
						>
							<path
								fill="currentColor"
								d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"
							></path>
						</svg>
					</div>
					<a href="/" class="home-link router-link-active"
						><!---->
						<span class="site-name">ProximaDB</span></a
					>
					<div class="links">
						<div class="search-box">
							<input aria-label="Search" autocomplete="off" spellcheck="false" value="" />
							<!---->
						</div>
						<!---->
					</div>
				</header>
				<div class="sidebar-mask"></div>
				<aside class="sidebar">
					<!---->
					<ul class="sidebar-links">
						<li><a href="/" class="sidebar-link">Overview</a></li>
						<li>
							<a href="/Architecture.html" class="active sidebar-link">How it works</a>
							<ul class="sidebar-sub-headers">
								<li class="sidebar-sub-header">
									<a href="/Architecture.html#overview" class="sidebar-link">Overview</a>
								</li>
								<li class="sidebar-sub-header">
									<a href="/Architecture.html#requirements" class="sidebar-link">Requirements</a>
								</li>
								<li class="sidebar-sub-header">
									<a href="/Architecture.html#motivation" class="sidebar-link">Motivation</a>
								</li>
								<li class="sidebar-sub-header">
									<a href="/Architecture.html#our-approach" class="sidebar-link">Our Approach</a>
								</li>
								<li class="sidebar-sub-header">
									<a href="/Architecture.html#nodes" class="sidebar-link">Nodes</a>
								</li>
								<li class="sidebar-sub-header">
									<a href="/Architecture.html#extra" class="sidebar-link">Extra</a>
								</li>
								<li class="sidebar-sub-header">
									<a href="/Architecture.html#store" class="sidebar-link">Store</a>
								</li>
								<li class="sidebar-sub-header">
									<a href="/Architecture.html#index" class="sidebar-link">Index</a>
								</li>
								<li class="sidebar-sub-header">
									<a href="/Architecture.html#roadmap" class="sidebar-link">Roadmap</a>
								</li>
								<li class="sidebar-sub-header">
									<a href="/Architecture.html#further-research" class="sidebar-link"
										>Further research</a
									>
								</li>
							</ul>
						</li>
						<li><a href="/Getting-started.html" class="sidebar-link">Getting Started</a></li>
						<li><a href="/API.html" class="sidebar-link">Documentation</a></li>
						<li><a href="/Integrations.html" class="sidebar-link">Integrations</a></li>
						<li><a href="/Tutorials.html" class="sidebar-link">Tutorial</a></li>
						<li><a href="/FAQ.html" class="sidebar-link">Frequently Asked Questions</a></li>
					</ul>
				</aside>
				<main class="page">
					<div class="theme-default-content content__default">
						<h1 id="how-it-works">
							<a href="#how-it-works" aria-hidden="true" class="header-anchor">#</a> How it works
						</h1>
						<p>
							A generalized Sparse Merkle tree as the indexing structure for an append-only sorted string
							table
						</p>
						<h2 id="overview">
							<a href="#overview" aria-hidden="true" class="header-anchor">#</a> Overview
						</h2>
						<p>
							The mission of this project is to provide an authenticated database that can service
							multiple blockchain needs, and will be included with a way to implement in different data
							structures.
						</p>
						<h2 id="requirements">
							<a href="#requirements" aria-hidden="true" class="header-anchor">#</a> Requirements
						</h2>
						<ul>
							<li>Arbitrary length keys/values</li>
							<li>Range queries</li>
							<li>Merkle Proofs</li>
							<li>Go bindings</li>
						</ul>
						<h2 id="motivation">
							<a href="#motivation" aria-hidden="true" class="header-anchor">#</a> Motivation
						</h2>
						<p>
							Blockchains utilize authenticated data structures, like the Patricia Merkle Trie,
							extensively to preserve immutability of their individual chains. These data structures can
							differ from chain to chain, but share a common optimization problems, and are built as
							bolt-on versions of NoSQL databases like levelDB.
						</p>
						<p>
							By building on top of current databases, these authenticated data structures are unable to
							take full advantage of the system and suffer from performance issues (slow reads and
							writes).
						</p>
						<p>
							This system has previously been implemented with binary Tries in the Urkel database, which
							resulted in up to 100x performance increases over the current system in terms of reads,
							writes, and storage footprint. Unfortunately, it is not generalized and easily applicable to
							other blockchains.
						</p>
						<p>
							We intend to expand on the same line as the Urkel database and create a generalized
							implementation of Sparse Merkle Tree that can be used to implement Tries, Red-black, BSTs,
							and many other tree-based structures.
						</p>
						<h2 id="our-approach">
							<a href="#our-approach" aria-hidden="true" class="header-anchor">#</a> Our Approach
						</h2>
						<p>
							The entire process will incorporate two components, the technology research, and the
							product. These can occur simultaneously as they are non-blocking. The motivation for the
							research will be to provide the backing for the optimizations used in the product itself --
							e.g. compaction, data structure, partitioning, and more efficient commits. The development
							will be centered around implementing a generalized Merkle tree that can be used by multiple
							blockchains. Generalized Sparse Merkle Tree The Generalized Merkle Tree is used in many
							different blockchains and authenticated databases, as a form of history and storage of
							immutable state.
						</p>
						<h2 id="nodes"><a href="#nodes" aria-hidden="true" class="header-anchor">#</a> Nodes</h2>
						<p>
							The nodes of the Merkle Tree will contain several values, they will be treated similarly to
							the traditional nodes with the ability for multiple children, and the recognition of
							heights.
						</p>
						<div class="language- extra-class">
							<pre class="language-text"><code>Nodes {
  Merkle Hash
  Height
  Children
  Extra
}
</code></pre>
						</div>
						<h3 id="children">
							<a href="#children" aria-hidden="true" class="header-anchor">#</a> Children
						</h3>
						<p>
							Enables a reduction in the total number of hops that must be made. And spreads a tree out.
							Furthermore, this is necessary for implementations like the Ethereum trie which require 16
							branches.
						</p>
						<h3 id="height"><a href="#height" aria-hidden="true" class="header-anchor">#</a> Height</h3>
						<p>
							Allows for arbitrary heights, which is crucial to expand the trie, and improves the
							efficiency of the lookup from cache (allows for Sparse Merkle Trees).
						</p>
						<h2 id="extra"><a href="#extra" aria-hidden="true" class="header-anchor">#</a> Extra</h2>
						<p>
							The extra variable enables trees with rebalancing aspects, such as Red-black or AVL trees.
							The benefit of this is that the trees can have “colors” or numbers that can be used with
							invariants when rebalancing.
						</p>
						<h3 id="proofs"><a href="#proofs" aria-hidden="true" class="header-anchor">#</a> Proofs</h3>
						<p>
							Without loss of generality, the proofs for the Sparse Merkle Tree can be utilized for
							arbitrary numbers of children. The proofs will flow in the same manner, where the children
							of the root are used to verify that the hash is correct. Further information on the proofs
							can be found in the Sparse Merkle Tree paper.
						</p>
						<h3 id="verification">
							<a href="#verification" aria-hidden="true" class="header-anchor">#</a> Verification
						</h3>
						<p>
							Without loss of generality, the proofs for the Sparse Merkle Tree can be utilized for
							arbitrary numbers of children. Verification can be done using the same technique.
						</p>
						<h2 id="store"><a href="#store" aria-hidden="true" class="header-anchor">#</a> Store</h2>
						<p>
							The store is based on the traditional data store, seen in LevelDB, and implemented in the
							authenticated data structure, like Urkel. For this implementation, the only thing that will
							change will be the way in which records are indexed. A second offset will be added to
							accommodate arbitrary size keys and values. The image below shows a basic view of what
							current index/offset systems look like.
						</p>
						<h2 id="index"><a href="#index" aria-hidden="true" class="header-anchor">#</a> Index</h2>
						<p>
							The index for each data block will change to reflect arbitrary length keys this will include
							the addition of a header that keeps track of the positions of the key, the value, and the
							position.
						</p>
						<p><code>file_index || offset_key || offset || position</code></p>
						<p>
							It should be noted that the record does not change with the header, on the manner in which
							the index is read.
						</p>
						<h2 id="roadmap"><a href="#roadmap" aria-hidden="true" class="header-anchor">#</a> Roadmap</h2>
						<h3 id="part-1"><a href="#part-1" aria-hidden="true" class="header-anchor">#</a> Part 1</h3>
						<p>
							The theme of part one is to have the product. The first part of this plan will be to create
							the unit tests and the integration tests for needed features. This will also incorporate the
							necessary go bindings to utilize the database.
						</p>
						<ul>
							<li>Arbitrary Length keys</li>
							<li>Arbitrary Length values</li>
							<li>Range queries</li>
							<li>Merkle Proof Semantics</li>
							<li>Go Bindings</li>
							<li>Unit tests</li>
						</ul>
						<h3 id="part-2"><a href="#part-2" aria-hidden="true" class="header-anchor">#</a> Part 2</h3>
						<p>
							The second part of the plan will be to get developer feedback and determine the feature
							roadmap.
						</p>
						<ul>
							<li>Schema validation</li>
							<li>Arbitrary length values</li>
							<li>Implementation of IAVL, Trie</li>
							<li>Client/Developer input features ( Developer input will occur )</li>
						</ul>
						<h3 id="part-3"><a href="#part-3" aria-hidden="true" class="header-anchor">#</a> Part 3</h3>
						<p>
							The third part of the product will take the optimizations found in the research, and schema
							created from the clients and integrate them in order to benefit.
						</p>
						<ul>
							<li>Bitmapping</li>
							<li>Write back cache automatic flushing</li>
							<li>Compaction efficient</li>
							<li>Research</li>
						</ul>
						<h3 id="part-4"><a href="#part-4" aria-hidden="true" class="header-anchor">#</a> Part 4</h3>
						<p>
							The fourth part will be centered around taking the optimized version of this database and
							pushing it to optimized languages.
						</p>
						<ul>
							<li>Rust (WASM)</li>
							<li>Packaging for other systems/languages (clean-up)</li>
						</ul>
						<h2 id="further-research">
							<a href="#further-research" aria-hidden="true" class="header-anchor">#</a> Further research
						</h2>
						<p>
							The motivation for further research is to provide faster queries, fast updates, simple
							partitioning, and simpler storage proofs for the data structure as a whole. With this in
							mind, the initial topics of research will be pushed towards these areas:
						</p>
						<ul>
							<li>Fast sync of data</li>
							<li>Efficient compaction and storage</li>
							<li>
								Rebalancing Parallelization Pruning Partitioning and sharding of data Efficient range,
								filtering proofs
							</li>
						</ul>
					</div>
					<footer class="page-edit">
						<!---->
						<div class="last-updated">
							<span class="prefix">Last Updated: </span> <span class="time">6/23/2019, 8:01:34 PM</span>
						</div>
					</footer>
					<div class="page-nav">
						<p class="inner">
							<span class="prev">
								←
								<a href="/" class="prev router-link-active">
									Overview
								</a></span
							>
							<span class="next"
								><a href="/Getting-started.html">
									Getting Started
								</a>
								→
							</span>
						</p>
					</div>
				</main>
			</div>
			<div class="global-ui"></div>
		</div>
		<script src="/assets/js/app.e72122a9.js" defer></script>
		<script src="/assets/js/2.ca605dc8.js" defer></script>
		<script src="/assets/js/6.07728154.js" defer></script>
	</body>
</html>
